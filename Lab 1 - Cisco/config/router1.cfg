{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {
    "collapsed": true,
    "pycharm": {
     "name": "#%% md\n"
    }
   },
   "source": [
    "## 1. Building the topology\n",
    "The initial topology in GNS3 is as follows:\n",
    "\n",
    "<img src=\"images/00_initial_topology.png\" alt=\"Drawing\" style=\"width: 500px;\"/>\n",
    "\n",
    "### 1.1. Configure CSR1\n",
    "- The CSR1 using Cisco IOS XE version 16.7.1.\n",
    "- Base configuration:\n",
    "```bash\n",
    "conf t\n",
    "hostname A-R\n",
    "ip domain-name comet.abc\n",
    "vrf definition MGMT\n",
    "add ipv4\n",
    "end\n",
    "## set int f1 as MGMT interface\n",
    "conf t\n",
    "int g1\n",
    "vrf forwarding MGMT\n",
    "ip address 192.168.122.71 255.255.255.0\n",
    "end\n",
    "## add the default root, name-server\n",
    "conf t\n",
    "ip route vrf MGMT 0.0.0.0 0.0.0.0 192.168.122.1\n",
    "ip domain-lookup\n",
    "ip name-server vrf MGMT 192.168.122.1\n",
    "end\n",
    "```\n",
    "\n",
    "- Check the connection:\n",
    "```bash\n",
    "ping vrf MGMT 192.168.122.1\n",
    "ping vrf MGMT cisco.com\n",
    "```\n",
    "- Configure ssh:\n",
    "```bash\n",
    "conf t\n",
    "crypto key generate rsa mod 2048\n",
    "username admin privilege 15 password admin\n",
    "line vty 0 15\n",
    "transport input all\n",
    "login local\n",
    "end\n",
    "```\n",
    "\n",
    "- Enable netconf:\n",
    "```bash\n",
    "conf t\n",
    "netconf-yang\n",
    "```\n",
    "- Check the netconf process:\n",
    "```bash\n",
    "sh platform software yang-management process\n",
    "```\n",
    "- Turn of `service config`:\n",
    "```bash\n",
    "conf t\n",
    "no service config\n",
    "```\n",
    "\n",
